<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="css/wordart.css" rel="stylesheet">
    <title>GRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANT</title>
    <style>
        .footer {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            background-color: black;
            color: white;
            text-align: center;
        }
    </style>
</head>
<body>
<!--  <div class="wordart purple" style="text-transform: uppercase;">happy birthday</div>-->
<div class="footer">buckle up for more physical surprises</div>
  <script src="js/jquery-3.4.1.min.js" type="text/javascript"></script>
  <script>
    $(document).ready(function(){
        if(confirm('This page only works properly on Chrome, Edge or Safari. Do you wanna continue to the site?')){
            startAndStopMakeDiv(0);
            setTimeout(function(){
                playAudio('sound/bDayHonk.mp3', 0.8);
                playAudio('sound/bDayClapping.mp3', 0.25);
            }, 4000);
            playAudio('sound/bDayTrumpet2.mp3', 1);
        }
        else location.href('https://www.infoworld.com/article/3174828/13-reasons-not-to-use-chrome.html');
    });

    function startAndStopMakeDiv(counter){
        var myMessage = [
        'Happy belated Birthday Trang!',
        'You are a great friend!',
        'You is kind...',
        'You is smart...',
        'You is important!',
        'I know you can pull through anything!',
        'Not necessarily by yourself!',
        'We`ll be there even if we don`t!',
        '*insert more cliches*',
        'I love you!'];
        console.log(counter);
      makeDiv(myMessage[counter]);
      if (counter < 11) {
        setTimeout(function () {
          counter++;
          startAndStopMakeDiv(counter);
        }, 4000);
      }
    };

    function makeDiv(message){
      // vary size for fun
      var divsize = ((Math.random()*300) + 50).toFixed();
      // //random color
      // var color = '#'+ Math.round(0xffffff * Math.random()).toString(16);
      // //random file
      // var myArray = ['Balloons','Balloons2','Cat','Cups','Dog',
      //   'Fireworks','Fireworks2','Fireworks3','Fireworks4','Fireworks5',
      //   'Fireworks6','Fireworks7','Glitter','Glitter2','Glitter3',
      //   'Glitter4','Glitter5', 'Horn', 'Horn2'];
      var myWordartArray = ['rainbow', 'blues', 'purple', 'superhero', 'radial', 'tilt',
      'horizon', 'italic-outline', 'slate'];
      // var name = myArray[Math.floor(Math.random()*myArray.length)];
      // var url = 'url(img/bDay' + name + '.gif)';
      $newdiv = $('<div/>')
          .css({
        'width':divsize+'px',
        'height':divsize+'px',
        // 'background': '#7C822D',
        'background-size':'100% 100%'
      })
          .addClass('wordart ' + myWordartArray[Math.floor(Math.random()*myWordartArray.length)])
          .html(message);

      // make position sensitive to size and document's width
      var posx = (Math.random() * ($(document).width() - divsize)).toFixed();
      var posy = (Math.random() * ($(document).height() - divsize)).toFixed();

      $newdiv.css({
        'position':'absolute',
        'left':posx+'px',
        'top':posy+'px',
        'display':'none'
      }).appendTo( 'body' ).fadeIn(1000).delay(2500);

    };

    function playAudio(audioPath, volume) {
      var audio = new Audio(audioPath);
      audio.volume = volume;
      audio.addEventListener('ended', function() {
        this.currentTime = 0;
        this.play();
      }, false);
      console.log("playing: " + audioPath)
      audio.play()
    };
  </script>
</body>
</html>